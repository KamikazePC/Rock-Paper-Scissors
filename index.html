<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors Game</title>

</head>
<body>
    <h1>Rock Paper Scissors Game</h1>
    
    <div id ='selection'></div>

    <div id="results"></div>

    <button id="rockBtn">Rock</button>
    <button id="paperBtn">Paper</button>
    <button id="scissorsBtn">Scissors</button>

    <script>
        function getComputerChoice(){
        const choices = ['Rock', 'Paper', 'Scissors'];
        const randomIndex = Math.floor(Math.random()*3);
        return choices[randomIndex];
       }
       
       function roundPlay(playerSelection){
        const computerSelection = getComputerChoice();

        const selectionDiv = document.getElementById('selection')
        
        selectionDiv.textContent = `Player selects ${playerSelection}`;
        selectionDiv.textContent = `Computer selects ${computerSelection}`;



        if (playerSelection === computerSelection.toLowerCase()) {
            return "It's a tie! Replay the round.";
         } else if (
            (playerSelection === "rock" && computerSelection === "Scissors") ||
            (playerSelection === "paper" && computerSelection === "Rock") ||
            (playerSelection === "scissors" && computerSelection === "Paper")
            ) {
                playerScore++;
                return `You win! ${playerSelection} beats ${computerSelection}.`;
            } else {
                computerScore++;
                return `You lose! ${computerSelection} beats ${playerSelection}.`;
            }


        }
    let playerScore = 0;
    let computerScore = 0;
    
    function game(result){

            const resultsDiv = document.getElementById("results");
            resultsDiv.innerHTML = result;

           
            const scoreDiv = document.createElement('div');
            scoreDiv.textContent = `Scores - Player: ${playerScore}, Computer: ${computerScore}`;
            resultsDiv.appendChild(scoreDiv);

            if(playerScore === 5 || computerScore ===5 ){
                if (playerScore > computerScore) {
                    resultsDiv.textContent += "Congratulations! You win the game!";
                } else (playerScore < computerScore); {
                    resultsDiv.textContent += "Sorry! You lose the game.";
                }

                // DIsable buttons after game ends
                document.getElementById('rockBtn').disabled = true;
                document.getElementById('paperBtn').disabled = true;
                document.getElementById('scissorsBtn').disabled = true;

            }
        }
        //Event Listeners for the buttons
        document.getElementById('rockBtn').addEventListener('click', () =>{
            const result = roundPlay("rock"); 
            const playerSelection = 'rock';
            game(result);
        })

        document.getElementById('paperBtn').addEventListener('click', () => {
            const result = roundPlay("paper");
            const playerSelection = 'rock';
            game(result);
        });

        document.getElementById('scissorsBtn').addEventListener('click', () =>{
            const result = roundPlay("scissors");
            const playerSelection = 'rock';
            game(result);
        });



           
    </script>
    
</body>
</html>